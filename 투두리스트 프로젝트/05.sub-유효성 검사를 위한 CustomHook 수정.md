# 유효성 검사를 위한 CustomHook useValidation 수정
## useValidation 생성

## CustomHook 매개변수 및 리턴 값
### 이전 Hook 
- 매개변수 
  - email: email 입력 값
  - pawword: 패스워등 입력 값
- 리턴 값
  - emailStatus
    - message: 경고 메세지
    - status: 유효청 체크
  - passwordStatus
    - message: 경고 메세지
    - status: 유효청 체크

### 변겅 Hook
- 매개 변수(빈 값)
- 리턴 값
  - isEmail: email 유효성 검사 여부
  - isPassword: password 유효성 검사 여부
  - isDisable : 버튼 활성화 여부
  - changeEmailData : email onChage 함수
  - changePasswordData : password onChage 함수
  - emailMsg: 이메일 경고 메세지

## CustomHook 변경 코드
- **EMAIL_CHECK**로 이메일 정규식 적용
- **chnage** 함수들의 **useCallback**을 이용하여 `isEmail`, `isPassword`가 변경 될때만 콜백 함수를 생성하고 그외에는 참조를 유지
- `isDisable`는 **useMemo**를 사용하여 `isEmail`, `isPassword`를 사용하여 두 값이 변경될 떄만 적용하도록 수정
- 일반적인 **Message**를 전달하는게 아닌 `isEmail`, `isPassword`로 true 값만 보내서 경고 메시지만 스타일을 변경 하도록 수정
### 변경 전 onChage 부분
```typescript
const onChangeEmailHandler = (e: React.ChangeEvent<HTMLInputElement>) => {
  setFormData({
    ...formData,
    email: e.target.value,
  });
};
```
### 변경 후 코드
```typescript
import {ChangeEvent, useCallback, useMemo, useState } from 'react'

export const useValidation = () =>{
  const EMAIL_CHECK = /^[a-zA-Z0-9+-_.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
  const [isEmail, setIsEmail] = useState(false);
  const [isPassword, setIsPassword] = useState(false);
  const isDisable = useMemo(() => {
    return !(isEmail && isPassword);
  }, [isEmail, isPassword]) 

  const changeEmailData = useCallback((e: ChangeEvent<HTMLInputElement>) => {
    const check = EMAIL_CHECK.test(e.currentTarget.value);
    if (check) setIsEmail(true);
    else if (!check && isEmail) setIsEmail(false); 
  }, [isEmail]);
  
  const changePasswordData = useCallback((e: ChangeEvent<HTMLInputElement>) => {
    const check = e.currentTarget.value.length > 7;
    if (check) setIsPassword(true);
    else if (!check && isPassword) setIsPassword(false);
  }, [isPassword]);

  return [isEmail, isPassword, isDisable, changeEmailData, changePasswordData] as const
}
```
- `isEmail`, `isPassword`를 이용한 스타일 변경 부분
```typescript
const SignInOfUpWarring = styled.p<{$visible?: boolean, $position?: string}>` 
  font-weight: 540;
  opacity: ${({$visible}) => $visible === true && 0 };
  ${({$position}) => $position === 'up' ? css`
    margin-bottom: .3rem;
    color: #000000;
  ` : css `
    margin-top: .3rem;
    color: #B60000;
  `} 
`
```