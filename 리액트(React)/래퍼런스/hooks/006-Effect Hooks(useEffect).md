# Effect Hooks(useEffect)

> Effect ÌõÖÎì§(useEffect)

`useEffect`Îäî Ïª¥Ìè¨ÎÑåÌä∏Î•º Ïô∏Î∂Ä ÏãúÏä§ÌÖúÍ≥º ÎèôÍ∏∞ÌôîÌï† Ïàò ÏûàÎäî React ÌõÖÏûÖÎãàÎã§.

```typescript
useEffect(setup, dependencies?)
```

## Ï∞∏Ï°∞

### ****`useEffect(setup, dependencies?)`****

Ïª¥Ìè¨ÎÑåÌä∏Ïùò ÏµúÏÉÅÏúÑ Î†àÎ≤®ÏóêÏÑú `useEffect`Î•º Ìò∏Ï∂úÌïòÏó¨ EffectÎ•º ÏÑ†Ïñ∏Ìï©ÎãàÎã§.

```typescript
function ChatRoom({ roomId }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234');

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [serverUrl, roomId]);
}
```

### Îß§Í∞úÎ≥ÄÏàò

- `setup`: EffectÏùò Î°úÏßÅÏù¥ Ìè¨Ìï®Îêú Ìï®ÏàòÏûÖÎãàÎã§. ÏÖãÏóÖ Ìï®ÏàòÎäî ÏÑ†ÌÉùÏ†ÅÏúºÎ°ú ÌÅ¥Î¶∞ÏóÖ Ìï®ÏàòÎ•º Î∞òÌôòÌï† Ïàò ÏûàÏúºÎ©∞ ÏùòÏ°¥ÏÑ±Ïù¥ Î≥ÄÍ≤ΩÎêòÏñ¥ Î¶¨Î†åÎçîÎßÅ Îê† Îïå Ïù¥Ï†Ñ Í∞íÏúºÎ°ú ÌÅ¥Î¶∞ÏóÖ Ìï®ÏàòÎ•º Ïã§ÌñâÌïú ÌõÑ ÏÉàÎ°úÏö¥ Í∞íÏúºÎ°ú ÏÖãÏóÖ Ìï®ÏàòÎ•º Ïã§ÌñâÌï©ÎãàÎã§.
- `dependencies` : setup ÏΩîÎìú ÎÇ¥ÏóêÏÑú Ï∞∏Ï°∞Îêú Î™®Îì† Î∞òÏùëÌòï Í∞íÏùò Î™©Î°ùÏûÖÎãàÎã§. Î∞òÏùëÌòï Í∞íÏùÄ `props,` `state`, Ïª¥Ìè¨ÎÑåÌä∏ Î≥∏Î¨∏ ÎÇ¥Î∂ÄÏóê ÏÑ†Ïñ∏Ìïú Î™®Îì† Î≥ÄÏàò, Ìï®ÏàòÎ•º Ìè¨Ìï®Ìï©ÎãàÎã§.

### Î∞òÌôòÍ∞í

`useEffect`Îäî `undefined`Î•º Î∞òÌôòÌï©ÎãàÎã§.

### Ï£ºÏùòÏÇ¨Ìï≠

- **Ïô∏Î∂Ä ÏãúÏä§ÌÖúÍ≥º ÎèôÍ∏∞ÌôîÌïòÎ†§Îäî Î™©Ï†ÅÏù¥ ÏïÑÎãàÎùºÎ©¥ EffectÍ∞Ä ÌïÑÏöîÌïòÏßÄ ÏïäÏùÑÏßÄÎèÑ Î™®Î¶ÖÎãàÎã§.**
- ÏùòÏ°¥ÏÑ± Ï§ë ÏùºÎ∂ÄÍ∞Ä Ïª¥Ìè¨ÎÑåÌä∏ ÎÇ¥Î∂ÄÏóê Ï†ïÏùòÎêú Í∞ùÏ≤¥ ÎòêÎäî Ìï®ÏàòÏù∏ Í≤ΩÏö∞ **EffectÍ∞Ä ÌïÑÏöî Ïù¥ÏÉÅÏúºÎ°ú ÏûêÏ£º Îã§Ïãú Ïã§ÌñâÎê† ÏúÑÌóòÏù¥ ÏûàÏäµÎãàÎã§**
- EffectÍ∞Ä ÏÉÅÌò∏ÏûëÏö©ÏúºÎ°ú Ïù∏Ìïú Í≤ÉÏù¥ ÏïÑÎãàÎùºÎ©¥, **ReactÎäî Î∏åÎùºÏö∞Ï†ÄÍ∞Ä EffectÎ•º Ïã§ÌñâÌïòÍ∏∞ Ï†ÑÏóê ÏóÖÎç∞Ïù¥Ìä∏Îêú ÌôîÎ©¥ÏùÑ Î®ºÏ†Ä Í∑∏Î¶¨ÎèÑÎ°ù Ìï©ÎãàÎã§.** EffectÍ∞Ä ÏãúÍ∞ÅÏ†ÅÏù∏ ÏûëÏóÖÏùÑ ÌïòÍ≥† ÏûàÍ≥†, ÏßÄÏó∞Ïù¥ ÎààÏóê ÎùÑÎäî Í≤ΩÏö∞ `useEffect`Î•º `useLayoutEffect`Î°ú ÎåÄÏ≤¥Ìï¥Ïïº Ìï©ÎãàÎã§.
- ÏÉÅÌò∏ÏûëÏö©ÏúºÎ°ú Ïù∏Ìï¥ EffectÍ∞Ä Î∞úÏÉùÌïú Í≤ΩÏö∞ÏóêÎèÑ, **Î∏åÎùºÏö∞Ï†ÄÎäî Effect ÎÇ¥Î∂ÄÏùò state ÏóÖÎç∞Ïù¥Ìä∏Î•º Ï≤òÎ¶¨ÌïòÍ∏∞ Ï†ÑÏóê ÌôîÎ©¥ÏùÑ Îã§Ïãú Í∑∏Î¶¥ Ïàò ÏûàÏäµÎãàÎã§.** Î≥¥ÌÜµ Ïù¥Í≤å Í∏∞ÎåÄÌïòÎäî ÎèôÏûëÏùº Í≤ÉÏûÖÎãàÎã§. ÎßåÏïΩ Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÌôîÎ©¥ÏùÑ Îã§Ïãú Ïπ†ÌïòÏßÄ Î™ªÌïòÎèÑÎ°ù Ï∞®Îã®Ìï¥Ïïº ÌïòÎäî Í≤ΩÏö∞ÎùºÎ©¥ `useEffect`Î•º `useLayoutEffect`Î°ú Î∞îÍøîÏïº Ìï©ÎãàÎã§.
- ÏÑúÎ≤Ñ Î†åÎçîÎßÅ Ï§ëÏóêÎäî Ïã§ÌñâÎêòÏßÄ ÏïäÏúºÎ©∞ EffectsÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÏÑúÎßå Ïã§ÌñâÎê©ÎãàÎã§.

## ÏÇ¨Ïö©Î≤ï

### ****Ïª§Ïä§ÌÖÄ ÌõÖÏúºÎ°ú Effect Í∞êÏã∏Í∏∞****

EffectÎ•º ÏàòÎèôÏúºÎ°ú ÏûëÏÑ±Ìï¥Ïïº ÌïòÎäî Í≤ΩÏö∞Í∞Ä ÏûêÏ£º Î∞úÏÉùÌïúÎã§Î©¥ Ïù¥Îäî Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÏùòÏ°¥ÌïòÎäî ÏùºÎ∞òÏ†ÅÏù∏ ÎèôÏûëÏóê ÎåÄÌïú Ïª§Ïä§ÌÖÄ ÌõÖÏùÑ Ï∂îÏ∂úÌï¥Ïïº ÌïúÎã§Îäî Ïã†Ìò∏Ïùº Ïàò ÏûàÏäµÎãàÎã§.

Ïù¥ `useChatRoom` Ïª§Ïä§ÌÖÄ ÌõÖÏùÄ EffectÏùò Î°úÏßÅÏùÑ Î≥¥Îã§ ÏÑ†Ïñ∏Ï†ÅÏù∏ API Îí§Ïóê **Ïà®ÍπÅÎãàÎã§.**

```typescript
function useChatRoom({ serverUrl, roomId }) {
  useEffect(() => {
    const options = { serverUrl: serverUrl, roomId: roomId };
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]);
}
```

### **EffectÏóêÏÑú Îç∞Ïù¥ÌÑ∞ ÌéòÏπ≠ÌïòÎäî Í≤ÉÏùÑ ÎåÄÏ≤¥Ìï† Ï¢ãÏùÄ ÎåÄÏïàÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?**

Effect ÎÇ¥Î∂ÄÏóê `fetch`Î•º ÏûëÏÑ±ÌïòÎäîÍ≤ÉÏùÄ Îç∞Ïù¥ÌÑ∞Î•º `fetch`ÌïòÎäî Ïù∏Í∏∞ÏûàÎäî Î∞©Î≤ïÏù¥Î©∞, ÏôÑÏ†ÑÌïú `client-side` Ïï±ÏóêÏÑú ÌäπÌûà Í∑∏Î†áÏäµÎãàÎã§. ÌïòÏßÄÎßå Ïù¥Îäî Îß§Ïö∞ ÏàòÎèôÏ†ÅÏù∏ Ï†ëÍ∑º Î∞©ÏãùÏù¥Î©∞ ÏÉÅÎãπÌïú Îã®Ï†êÏù¥ Ï°¥Ïû¨Ìï©ÎãàÎã§.

- **EffectÎäî ÏÑúÎ≤ÑÏóêÏÑú Ïã§ÌñâÎêòÏßÄ ÏïäÏäµÎãàÎã§.** ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïª¥Ìì®ÌÑ∞Îäî Î™®Îì† JavaScriptÎ•º Îã§Ïö¥Î°úÎìúÌïòÍ≥† Ïï±ÏùÑ Î†åÎçîÎßÅÌï¥ÏïºÎßå Ïù¥Ï†ú Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìúÌï¥Ïïº ÌïúÎã§Îäî Í≤ÉÏùÑ Ïïå Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Îäî Îß§Ïö∞ Ìö®Ïú®Ï†ÅÏù¥ÏßÄ ÏïäÏäµÎãàÎã§.
- **EffectÏóêÏÑú ÏßÅÏ†ë ÌéòÏπ≠ÌïòÎ©¥ `ÎÑ§Ìä∏ÏõåÌÅ¨ ÏõåÌÑ∞Ìè¥`ÏùÑ ÎßåÎì§Í∏∞ ÏâΩÏäµÎãàÎã§.** Î∂ÄÎ™® Ïª¥Ìè¨ÎÑåÌä∏Î•º Î†åÎçîÎßÅÌïòÎ©¥ ÏùºÎ∂Ä Îç∞Ïù¥ÌÑ∞Î•º ÌéòÏπòÌïòÍ≥†, ÏûêÏãù Ïª¥Ìè¨ÎÑåÌä∏Î•º Î†åÎçîÎßÅÌïòÎ©¥ ÏûêÏãù Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä Îç∞Ïù¥ÌÑ∞Î•º ÌéòÏπ≠ÌïòÍ∏∞ ÏãúÏûëÌï©ÎãàÎã§. ÎÑ§Ìä∏ÏõåÌÅ¨Í∞Ä Îß§Ïö∞ Îπ†Î•¥ÏßÄ ÏïäÎäî Ìïú Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Î≥ëÎ†¨Î°ú ÌéòÏπ≠ÌïòÎäî Í≤ÉÎ≥¥Îã§ Ìõ®Ïî¨ ÎäêÎ¶ΩÎãàÎã§.
- **EffectsÏóêÏÑú ÏßÅÏ†ë ÌéòÏπ≠ÌïúÎã§Îäî Í≤ÉÏùÄ ÏùºÎ∞òÏ†ÅÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º Îç∞Ïù¥ÌÑ∞Î•º ÎØ∏Î¶¨ Î°úÎìúÌïòÍ±∞ÎÇò Ï∫êÏãúÌïòÏßÄ ÏïäÎäîÎã§Îäî ÏùòÎØ∏ÏûÖÎãàÎã§.** ÏòàÎ•º Îì§Ïñ¥, Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÎßàÏö¥Ìä∏Î•º Ìï¥Ï†úÌñàÎã§Í∞Ä Îã§Ïãú ÎßàÏö¥Ìä∏ÌïòÎ©¥ Îç∞Ïù¥ÌÑ∞Î•º Îã§Ïãú Í∞ÄÏ†∏ÏôÄÏïº Ìï©ÎãàÎã§.
- **Ïù∏Ï≤¥ Í≥µÌïôÏ†ÅÏúºÎ°ú Ï¢ãÏßÄ ÏïäÏäµÎãàÎã§.** Ï°∞Í±¥ Í≤ΩÌï©Í≥º Í∞ôÏùÄ Î≤ÑÍ∑∏Í∞Ä Î∞úÏÉùÌïòÏßÄ ÏïäÎäî Î∞©ÏãùÏúºÎ°ú `fetch`¬†Ìò∏Ï∂úÏùÑ ÏûëÏÑ±ÌïòÎ†§Î©¥ ÏÉÅÏö©Íµ¨ ÏΩîÎìúÍ∞Ä ÏÉÅÎãπÌûà ÎßéÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.

### ****Î∞òÏùëÌòï ÏùòÏ°¥ÏÑ± ÏßÄÏ†ï****

**EffectÏùò ÏùòÏ°¥ÏÑ±ÏùÑ ‚ÄúÏÑ†ÌÉù‚ÄùÌï† Ïàò ÏóÜÎã§Îäî Ï†êÏóê Ïú†ÏùòÌïòÏÑ∏Ïöî.** EffectÏùò ÏΩîÎìúÏóêÏÑú ÏÇ¨Ïö©ÎêòÎäî Î™®Îì† Î∞òÏùëÌòï Í∞íÏùÄ ÏùòÏ°¥ÏÑ±ÏúºÎ°ú ÏÑ†Ïñ∏Ìï¥Ïïº Ìï©ÎãàÎã§.

**EffectÏùò ÏΩîÎìúÍ∞Ä Î∞òÏùëÌòï Í∞íÏùÑ ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§Î©¥ ÏùòÏ°¥ÏÑ± Î™©Î°ùÏùÄ ÎπÑÏñ¥ ÏûàÏñ¥Ïïº Ìï©ÎãàÎã§(`[]`)**

### ****EffectÏùò Ïù¥Ï†Ñ stateÎ•º Í∏∞Î∞òÏúºÎ°ú state ÏóÖÎç∞Ïù¥Ìä∏ÌïòÍ∏∞****

ÏïÑÎûòÏùò ÏΩîÎìúÏôÄ Í∞ôÏù¥ EffectÏùò Ïù¥Ï†Ñ stateÎ•º Í∏∞Î∞òÏúºÎ°ú stateÎ•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎ†§Îäî Í≤ΩÏö∞ Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.

```typescript
function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    const intervalId = setInterval(() => {
      setCount(count + 1); // Îß§Ï¥àÎßàÎã§ Ïπ¥Ïö¥ÌÑ∞Î•º Ï¶ùÍ∞ÄÏãúÌÇ§Î†§Î©¥
    }, 1000)
    return () => clearInterval(intervalId);
  }, [count]); // üö©ÌïòÏßÄÎßå Ï¢ÖÏÜçÏÑ±ÏúºÎ°ú 'count'Î•º ÏßÄÏ†ïÌïòÎ©¥ Ìï≠ÏÉÅ Í∞ÑÍ≤©Ïù¥ Ïû¨ÏÑ§Ï†ïÎê©ÎãàÎã§.
}
```

countÍ∞Ä Î∞òÏùëÌòï Í∞íÏù¥ÎØÄÎ°ú ÏùòÏ°¥ÏÑ± Î™©Î°ùÏóê ÏßÄÏ†ïÌï¥ÏïºÌï©ÎãàÎã§. ÌïòÏßÄÎßå Ïù¥Î°ú Ïù∏Ìï¥ countÍ∞Ä Î≥ÄÍ≤ΩÎê† Îïå ÎßàÎã§ clean up Ìï®ÏàòÍ∞Ä Î∞úÏÉùÌï©ÎãàÎã§. ÏúÑ ÏΩîÎìúÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî ÏùòÏ°¥ÏÑ± Î™©Î°ùÏùÑ ÏóÜÏï†Í≥† `setCount(c => c + 1)` Î°ú ÏàòÏ†ïÌï¥ÏïºÌï©ÎãàÎã§.

## Î¨∏Ï†ú Ìï¥Í≤∞

### ****ÎÇ¥ EffectÍ∞Ä Î¨¥ÌïúÌûà Ïû¨Ïã§ÌñâÎê©ÎãàÎã§****

- EffectÍ∞Ä ÏùºÎ∂Ä stateÎ•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
- Ïù¥ stateÎäî Î¶¨Î†åÎçîÎßÅÏùÑ ÏùºÏúºÌÇ§Î©∞, Ïù¥Î°úÎ∂ÄÌÑ∞ EffectÏùò ÏùòÏ°¥ÏÑ±Ïù¥ Î≥ÄÍ≤ΩÎê©ÎãàÎã§.

### ****Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÎßàÏö¥Ìä∏ Ìï¥Ï†úÎêòÏßÄ ÏïäÏïòÎäîÎç∞ÎèÑ ÌÅ¥Î¶∞ÏóÖ Î°úÏßÅÏù¥ Ïã§ÌñâÎê©ÎãàÎã§.****

ÌÅ¥Î¶∞ÏóÖ Í∏∞Îä•ÏùÄ ÎßàÏö¥Ìä∏ Ìï¥Ï†úÏãú ÎøêÎßå ÏïÑÎãàÎùº Î≥ÄÍ≤ΩÎêú ÏùòÏ°¥ÏÑ±Í≥º Ìï®Íªò Îã§Ïãú Î†åÎçîÎßÅÌïòÍ∏∞ Ï†ÑÏóê Îß§Î≤à Ïã§ÌñâÎê©ÎãàÎã§.

ÌÅ¥Î¶∞ÏóÖ ÏΩîÎìúÎäî ÏûàÎäîÎç∞ Í∑∏Ïóê ÎåÄÏùëÌïòÎäî ÏÖãÏóÖ ÏΩîÎìúÎäî ÏóÜÎã§Î©¥, ÏùºÎ∞òÏ†ÅÏúºÎ°ú Î¨∏Ï†úÍ∞Ä ÏûàÎäî ÏΩîÎìúÏûÖÎãàÎã§.

```typescript
useEffect(() => {
  return () => {
    doSomething();
  };
}, []);
```

ÌÅ¥Î¶∞ÏóÖ Î°úÏßÅÏùÄ ÏÖãÏóÖ Î°úÏßÅÍ≥º **ÎåÄÏπ≠**Ïù¥Ïñ¥Ïïº ÌïòÎ©∞, ÏÖãÏóÖÏù¥ ÏàòÌñâÌïú Î™®Îì† ÏûëÏóÖÏùÑ Ï§ëÏßÄÌïòÍ±∞ÎÇò Ï∑®ÏÜåÌï¥Ïïº Ìï©ÎãàÎã§.

```typescript
useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [serverUrl, roomId]);
```

‚èÆÔ∏è Previous : [Ref Hooks(useImperativeHandle)](./005-Ref%20Hooks(useImperativeHandle).md)

‚è≠Ô∏è Next: [Effect Hooks(useLayoutEffect)](./007-Effect%20Hooks(useLayoutEffect).md)